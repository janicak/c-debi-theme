{"version":3,"sources":["webpack:///./src/Shortcodes/EoResources/index.js"],"names":["$","d","window","jQuery","noConflict","document","ready","eoResources","length","grid","find","selects","isotope","Isotope","itemSelector","layoutMode","on","filters","each","select","this","attr","val","arrange","filter","item","selected","Object","keys","forEach","key","value","itemAtts","split","inArray","allItems","getItemElements","changedFilter","changedFilterValue","otherItemAttrs","itemFilterAttrs","itemAttr","push","children","option","disabled","layout","closest","toggleClass","prepare_eo_resources"],"mappings":";;;;;;;;;;;;;;;;;+JAAA,WAKUA,EAAEC,EALZ,uBAGAC,OAAOC,OAAOC,aAEJJ,EA8FPE,OAAOC,OA9FEF,EA8FKI,SA3FfL,EAAEC,GAAGK,OAAM,WAET,IAAIC,EAAcP,EAAE,iBAChBO,EAAYC,QAMlB,SAA8BD,GAC5B,IAAIE,EAAOF,EAAYG,KAAK,qBACxBC,EAAUJ,EAAYG,KAAK,UAI/BD,EAAKG,QAAU,IAAIC,IAAQ,oBAAqB,CAC9CC,aAAc,WACdC,WAAY,YAGdJ,EAAQK,GAAG,UAAU,WAEnB,IAAIC,EAAU,GACdN,EAAQO,MAAK,WACX,IAAIC,EAASnB,EAAEoB,MACfH,EAAQE,EAAOE,KAAK,gBAAkBF,EAAOG,SAG/Cb,EAAKG,QAAQW,QAAQ,CAAEC,OAAQ,WAC3B,IAAIC,EAAOzB,EAAEoB,MACTM,GAAW,EAYf,OAXAC,OAAOC,KAAKX,GAASY,SAAQ,SAASC,GACpC,GAAIJ,EAAS,CACX,IAAIK,EAAQd,EAAQa,GACpB,GAAa,KAATC,EAAa,CACf,IAAIC,EAAWP,EAAKJ,KAAK,QAAQS,GAAKG,MAAM,QACT,GAA/BjC,EAAEkC,QAAQH,EAAOC,KACnBN,GAAW,QAKZA,KAIX,IAAIS,EAAW1B,EAAKG,QAAQwB,kBACxBC,EAAgBrC,EAAEoB,MAAMC,KAAK,eAC7BiB,EAAqBrB,EAAQoB,GAC7BE,EAAiB,GACrBJ,EAASN,SAAQ,SAASJ,GAExB,IAAIe,GADJf,EAAOzB,EAAEyB,IACkBJ,KAAK,QAAQgB,GAAeJ,MAAM,QACN,GAAnDjC,EAAEkC,QAAQI,EAAoBE,IAChCb,OAAOC,KAAKX,GAASY,SAAQ,SAASC,GAChCA,GAAOO,GACYZ,EAAKJ,KAAK,QAAQS,GAAKG,MAAM,OACnCJ,SAAQ,SAASY,IACc,GAAxCzC,EAAEkC,QAAQO,EAAUF,IACtBA,EAAeG,KAAKD,YAOhC9B,EAAQO,MAAK,WACX,IAAIC,EAASnB,EAAEoB,MACFD,EAAOE,KAAK,gBACXgB,GACZlB,EAAOwB,SAAS,UAAUzB,MAAK,WAC7B,IAAI0B,EAAS5C,EAAEoB,MACXyB,GAAW,EACf,GAA0B,KAAtBP,EAA0B,CAC5B,IAAIP,EAAQa,EAAOvB,KAAK,SACxBwB,GAAgD,GAArC7C,EAAEkC,QAAQH,EAAOQ,GAC5BM,EAAoB,KAATd,GAAuBc,EAEpCD,EAAOvB,KAAK,WAAYwB,YAMhCpC,EAAKC,KAAK,2BAA2BM,GAAG,SAAS,WAC/CP,EAAKG,QAAQkC,SACb9C,EAAEoB,MAAM2B,QAAQ,YAAYJ,SAAS,oBAAoBK,YAAY,YAlFrEC,CAAqB1C,O","file":"app/shortcode_eo_resources-a345ff2d.js","sourcesContent":["import Isotope from 'isotope-layout'\r\nimport './index.scss'\r\n\r\nwindow.jQuery.noConflict();\r\n\r\n(function($,d) {\r\n  'use strict';\r\n\r\n  $(d).ready(function(){\r\n\r\n    var eoResources = $('.eo-resources');\r\n    if (eoResources.length) {\r\n      prepare_eo_resources(eoResources);\r\n    }\r\n\r\n  });\r\n\r\n  function prepare_eo_resources(eoResources){\r\n    var grid = eoResources.find('.c-debi-accordion');\r\n    var selects = eoResources.find('select');\r\n\r\n    //grid.imagesLoaded(function(){\r\n    // Init Isotope Grid\r\n    grid.isotope = new Isotope('.c-debi-accordion', {\r\n      itemSelector: '.section',\r\n      layoutMode: 'fitRows'\r\n    });\r\n    // On select change\r\n    selects.on('change', function(){\r\n      // Get current select values\r\n      var filters = {};\r\n      selects.each(function(){\r\n        var select = $(this);\r\n        filters[select.attr('data-filter')] = select.val();\r\n      });\r\n      // Filter items\r\n      grid.isotope.arrange({ filter: function(){\r\n          var item = $(this);\r\n          var selected = true;\r\n          Object.keys(filters).forEach(function(key){\r\n            if (selected){\r\n              var value = filters[key];\r\n              if (value != '*'){\r\n                var itemAtts = item.attr('data-'+key).split(/\\s+/);\r\n                if ($.inArray(value, itemAtts) == -1){\r\n                  selected = false;\r\n                }\r\n              }\r\n            }\r\n          });\r\n          return selected;\r\n        }});\r\n\r\n      // Disable select options on other select as needed\r\n      var allItems = grid.isotope.getItemElements();\r\n      var changedFilter = $(this).attr('data-filter');\r\n      var changedFilterValue = filters[changedFilter];\r\n      var otherItemAttrs = [];\r\n      allItems.forEach(function(item){\r\n        item = $(item);\r\n        var itemFilterAttrs = item.attr('data-'+changedFilter).split(/\\s+/);\r\n        if ($.inArray(changedFilterValue, itemFilterAttrs) != -1){\r\n          Object.keys(filters).forEach(function(key){\r\n            if (key != changedFilter){\r\n              var itemOtherAttrs = item.attr('data-'+key).split(/\\s+/);\r\n              itemOtherAttrs.forEach(function(itemAttr){\r\n                if ($.inArray(itemAttr, otherItemAttrs) == -1){\r\n                  otherItemAttrs.push(itemAttr);\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n      selects.each(function(){\r\n        var select = $(this);\r\n        var filter = select.attr('data-filter');\r\n        if (filter != changedFilter){\r\n          select.children('option').each(function(){\r\n            var option = $(this);\r\n            var disabled = false;\r\n            if (changedFilterValue != '*'){\r\n              var value = option.attr('value');\r\n              disabled = $.inArray(value, otherItemAttrs) == -1;\r\n              disabled = value == '*' ? false : disabled;\r\n            }\r\n            option.attr('disabled', disabled);\r\n          });\r\n        }\r\n      })\r\n    });\r\n    // On detail click\r\n    grid.find('.section-title .details').on('click', function(){\r\n      grid.isotope.layout();\r\n      $(this).closest('.section').children('.section-content').toggleClass('ready');\r\n    });\r\n    //});\r\n  }\r\n\r\n})(window.jQuery,document);"],"sourceRoot":""}